(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{546:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"gethashcode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gethashcode"}},[s._v("#")]),s._v(" GetHashCode")]),s._v(" "),a("p",[s._v("c# "),a("code",[s._v("GetHashCode")])]),s._v(" "),a("p",[s._v("When we do not modify the object, we call hashcode many times to return the same integer. In the same application, if we execute it many times, the integer returned by each execution may be inconsistent\nsuggestion use "),a("code",[s._v("sharding-core")]),s._v(" provider method "),a("code",[s._v("ShardingCoreHelper.GetStringHashCode(shardingKeyStr)")])]),s._v(" "),a("h2",{attrs:{id:"group-by"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#group-by"}},[s._v("#")]),s._v(" Group By")]),s._v(" "),a("p",[s._v("if use "),a("code",[s._v("group by")]),s._v(" queryable will append order by while order by item is empty,if has order by item shoule use full select properties")]),s._v(" "),a("h2",{attrs:{id:"guid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guid"}},[s._v("#")]),s._v(" GUID")]),s._v(" "),a("p",[s._v("c# guid compare is difference with sqlserver uniqueidentifier，"),a("code",[s._v("sharding-core")]),s._v(" is fix this bug,use SqlGuid to compare,but not fix "),a("code",[s._v("Nullable<Guid>")]),s._v(" if u want fix it. example:")]),s._v(" "),a("div",{staticClass:"language-csharp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/// <summary>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/// like this example")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/// </summary>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/// <typeparam name="TShardingDbContext"></typeparam>')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SqlServerNullableGuidCSharpLanguageShardingComparer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("TShardingDbContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CSharpLanguageShardingComparer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("TShardingDbContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TShardingDbContext")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DbContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IShardingDbContext")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Compare")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IComparable")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IComparable")]),s._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bool")])]),s._v(" asc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XXType")]),s._v(" xg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XXType")]),s._v(" yg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("XXFixedType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SafeCompareToWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("XXFixedType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("yg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" asc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("base")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Compare")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" asc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//configure")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ReplaceShardingComparer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("SqlServerNullableGuidCSharpLanguageShardingComparer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("DefaultShardingDbContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[a("strong",[s._v("注意:fix c# compare guid")])]),s._v(" "),a("h2",{attrs:{id:"auto-increment-field"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auto-increment-field"}},[s._v("#")]),s._v(" auto increment field")]),s._v(" "),a("p",[s._v("do not configure auto increment field in "),a("code",[s._v("sharding-core")]),s._v(" sharding field。e.g:increment id")]),s._v(" "),a("h2",{attrs:{id:"ensurecreated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ensurecreated"}},[s._v("#")]),s._v(" EnsureCreated")]),s._v(" "),a("p",[a("code",[s._v("DbContext.Database.EnsureCreated()")]),s._v(" if u want use this method ,plz impl "),a("code",[s._v("IMigrationsSqlGenerator")])]),s._v(" "),a("h2",{attrs:{id:"sharding-with-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sharding-with-time"}},[s._v("#")]),s._v(" sharding with time")]),s._v(" "),a("p",[s._v("if u use sharding with time field,plz read"),a("a",{attrs:{href:"/sharding-core-doc/en/adv/pagination"}},[s._v("pagination")])])])}),[],!1,null,null,null);t.default=n.exports}}]);